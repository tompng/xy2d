(()=>{"use strict";var __webpack_modules__={8081:(r,e,n)=>{n.d(e,{V:()=>_,_:()=>f});var t=function(r,e){var n="function"==typeof Symbol&&r[Symbol.iterator];if(!n)return r;var t,o,a=n.call(r),i=[];try{for(;(void 0===e||e-- >0)&&!(t=a.next()).done;)i.push(t.value)}catch(r){o={error:r}}finally{try{t&&!t.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},o=function(r){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&r[e],t=0;if(n)return n.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&t>=r.length&&(r=void 0),{value:r&&r[t++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function a(r){var e,n,a,i;function l(e){return r>>e&1}for(var u=0,f=0;f<8;f++)u+=l(f);for(var s=[],_=function(r){var e,n,a=l(r),i=1^r,f=2^r,_=4^r,v=l(i),c=l(f),y=l(_),p=v===a,h=c===a;if(p||h||y===a||s.push([r,i],[r,f],[r,_]),4===u&&a+v+c+y===4){var d=[i,2^i],g=[i,4^i],w=[_,1^_],m=[_,2^_],x=[f,4^f],b=[f,1^f];s.push(d,g,w,d,w,b,b,w,m,b,m,x)}if(3===u&&1===a&&v+c+y===2||5===u&&0===a&&v+c+y==1){var M=p?h?4:2:1,E=t([1,2,4].filter((function(r){return r!=M})),2),P=E[0],O=E[1];d=[r,r^M],g=[r^P,r^P^M],w=[r^P,r^P^O],m=[r^O,r^P^O],x=[r^O,r^O^M],s.push(d,g,w,d,w,m,d,m,x)}var S=function(e,n){if(a!==n||e<r)return"continue";var o=(a==v?1:0)+(a==c?1:0)+(a==y?1:0),i=(n===l(1^e)?1:0)+(n===l(2^e)?1:0)+(n===l(4^e)?1:0);if(1!==o||1!==i)return"continue";var u=r^e,f=t([1,2,4].filter((function(r){return r!=u})),2),_=f[0],p=f[1],h=[r,r^_],d=[r,r^p],g=[e,e^p],w=[e,e^_];s.push(h,d,g,h,g,w)};try{for(var A=(e=void 0,o([[i,v],[f,c],[_,y]])),k=A.next();!k.done;k=A.next()){var z=t(k.value,2);S(z[0],z[1])}}catch(r){e={error:r}}finally{try{k&&!k.done&&(n=A.return)&&n.call(A)}finally{if(e)throw e.error}}},v=0;v<8;v++)_(v);if(4===u){for(v=0;v<4;v++)if(1===l(v))try{for(var c=(e=void 0,o([[1,2,4],[1,4,2],[2,1,4],[2,4,1],[4,1,2],[4,2,1]])),y=c.next();!y.done;y=c.next()){var p=t(y.value,3),h=p[0],d=p[1],g=p[2];if(1===l(v^h)&&1===l(v^h^d)&&1===l(v^h^d^g)){var w=[v,v^g],m=[v,v^d],x=[v^h^d,v^d],b=[v^h^d^g,v^d^g],M=[v^h^d^g,v^h^g],E=[v^h,v^h^g];s.push(w,m,x,w,x,E),s.push(E,x,b,b,M,E)}}}catch(r){e={error:r}}finally{try{y&&!y.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}var P=function(r){for(var e=0,n=0;n<8;n++)e+=l(n&~r);if(0===e||8===e){var o=t([1,2,4].filter((function(e){return e!=r})),2),a=o[0],i=o[1],u=[0,r],f=[a,a|r],_=[a|i,7],v=[i,i|r];s.push(u,f,_,u,_,v)}};try{for(var O=o([1,2,4]),S=O.next();!S.done;S=O.next())P(S.value)}catch(r){a={error:r}}finally{try{S&&!S.done&&(i=O.return)&&i.call(O)}finally{if(a)throw a.error}}}return s}var i=function(){return(i=Object.assign||function(r){for(var e,n=1,t=arguments.length;n<t;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}).apply(this,arguments)},l=function(r){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&r[e],t=0;if(n)return n.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&t>=r.length&&(r=void 0),{value:r&&r[t++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},u=function(r,e){var n="function"==typeof Symbol&&r[Symbol.iterator];if(!n)return r;var t,o,a=n.call(r),i=[];try{for(;(void 0===e||e-- >0)&&!(t=a.next()).done;)i.push(t.value)}catch(r){o={error:r}}finally{try{t&&!t.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function f(r,e){var n,t,o=[];try{for(var a=l(e),i=a.next();!i.done;i=a.next()){var f=i.value,s=u(f,6),_=s[0],v=s[1],c=s[2],y=s[3],p=s[4],h=s[5],d=(_+v)/2,g=(c+y)/2,w=(p+h)/2;r(_,d,c,g,p,w)<0&&o.push([_,d,c,g,p,w]),r(d,v,c,g,p,w)<0&&o.push([d,v,c,g,p,w]),r(_,d,g,y,p,w)<0&&o.push([_,d,g,y,p,w]),r(d,v,g,y,p,w)<0&&o.push([d,v,g,y,p,w]),r(_,d,c,g,w,h)<0&&o.push([_,d,c,g,w,h]),r(d,v,c,g,w,h)<0&&o.push([d,v,c,g,w,h]),r(_,d,g,y,w,h)<0&&o.push([_,d,g,y,w,h]),r(d,v,g,y,w,h)<0&&o.push([d,v,g,y,w,h])}}catch(r){n={error:r}}finally{try{i&&!i.done&&(t=a.return)&&t.call(a)}finally{if(n)throw n.error}}return o}var s=function(){var r=[],e=new Map;function n(r,n){var t=e.size/2;e.set(8*r+n,t),e.set(8*n+r,t)}var o=[0,1,3,2];o.forEach((function(r,e){return n(r,o[(e+1)%4])})),o.forEach((function(r){return n(r,4|r)})),o.forEach((function(r,e){return n(4|r,4|o[(e+1)%4])}));for(var i=0;i<256;i++){var l=a(i).map((function(r){var n=t(r,2),o=n[0],a=n[1];return e.get(8*o+a)}));r[i]=l}return r}();function _(r,e,n,t,o){var a,u,f=[],s=n+1,_=Math.pow(s,2),c=new Float64Array(_),p=new Float64Array(_),h=o?[]:void 0;try{for(var d=l(e),g=d.next();!g.done;g=d.next())v(r,g.value,n,c,p,f,h)}catch(r){a={error:r}}finally{try{g&&!g.done&&(u=d.return)&&u.call(d)}finally{if(a)throw a.error}}var w=f.length/9;return h&&0!==h.length?[w,y(r,f,h,i(i({},t),{resolution:t.resolution*n}))]:[w,f]}function v(r,e,n,t,o,a,i){for(var l,f=u(e,6),s=f[0],_=f[1],v=f[2],y=f[3],p=f[4],h=n+1,d=(_-s)/n,g=(y-v)/n,w=(f[5]-p)/n,m=0;m<=n;m++)for(var x=s+d*m,b=0;b<=n;b++)t[m*h+b]=r(x,v+g*b,p);for(var M=0;M<n;M++){var E=p+w*M,P=p+w*(M+1);for(m=0;m<=n;m++)for(x=s+d*m,b=0;b<=n;b++)o[m*h+b]=r(x,v+g*b,P);c(t,o,n,r,s,v,E,P,d,g,w,a,i),o=(l=u([t,o],2))[0],t=l[1]}}function c(r,e,n,t,o,a,i,l,u,f,_,v,c){function y(r,e,n,o,a,i,l,u){var f=l/(l-u);if(!(0<f&&f<1))return f;var s=t((r+o)/2,(e+a)/2,(n+i)/2);return l*s<=0?l/(l-s)/2:(1+s/(s-u))/2}for(var p=n+1,h=0;h<n;h++)for(var d=o+u*h,g=o+u*(h+1),w=0;w<n;w++){var m=h*p+w,x=r[m],b=r[m+p],M=r[m+1],E=r[m+p+1],P=e[m],O=e[m+p],S=e[m+1],A=e[m+p+1],k=(x>0?1:0)|(b>0?2:0)|(M>0?4:0)|(E>0?8:0)|(P>0?16:0)|(O>0?32:0)|(S>0?64:0)|(A>0?128:0);if(0!==k&&255!==k){var z=a+f*w,R=a+f*(w+1);if(c){var D=(x+P+M+S+b+O+E+A)/8,N=(b+O+E+A-x-P-M-S)/8,T=(M+S+E+A-x-P-b-O)/8,W=(P+S+O+A-x-M-b-E)/8,j=Math.sqrt((Math.pow(-N-T-W+D-x,2)+Math.pow(-N-T+W+D-P,2)+Math.pow(-N+T-W+D-M,2)+Math.pow(-N+T+W+D-S,2)+Math.pow(+N-T-W+D-b,2)+Math.pow(+N-T+W+D-O,2)+Math.pow(+N+T-W+D-E,2)+Math.pow(+N+T+W+D-A,2))/(Math.pow(N,2)+Math.pow(T,2)+Math.pow(W,2)));j>1/16&&c.push([j,d,z,i])}for(var q=s[k],F=[y(d,z,i,g,z,i,x,b),0,0,1,y(g,z,i,g,R,i,b,E),0,y(d,R,i,g,R,i,M,E),1,0,0,y(d,z,i,d,R,i,x,M),0,0,0,y(d,z,i,d,z,l,x,P),1,0,y(g,z,i,g,z,l,b,O),1,1,y(g,R,i,g,R,l,E,A),0,1,y(d,R,i,d,R,l,M,S),y(d,z,l,g,z,l,P,O),0,1,1,y(g,z,l,g,R,l,O,A),1,y(d,R,l,g,R,l,S,A),1,1,0,y(d,z,l,d,R,l,P,S),1],L=0;L<q.length;L+=3){var U=3*q[L],B=3*q[L+1],C=3*q[L+2];isNaN(F[U]+F[U+1]+F[U+2]+F[B]+F[B+1]+F[B+2]+F[C]+F[C+1]+F[C+2])||v.push(d+F[U]*u||0,z+F[U+1]*f||0,i+F[U+2]*_||0,d+F[B]*u||0,z+F[B+1]*f||0,i+F[B+2]*_||0,d+F[C]*u||0,z+F[C+1]*f||0,i+F[C+2]*_||0)}}}}function y(r,e,n,t){var o,a,i,f,s=Math.min(8192,Math.round(e.length/100));s<n.length&&n.length<64*s&&(n.sort((function(r,e){return e[0]-r[0]})),n.length=s);var _=t.xmin,c=t.ymin,y=t.zmin,p=t.size,h=t.resolution,d=p/h,g=d/2,w=new Set,m=new Set;try{for(var x=l(n),b=x.next();!b.done;b=x.next()){var M=u(b.value,4),E=(M[0],M[1]),P=M[2],O=M[3],S=h*(h*(L=Math.floor((E+g-_)/d))+(U=Math.floor((P+g-c)/d)))+(B=Math.floor((O+g-y)/d));w.add(S),m.add(S),L>0&&m.add(S-h*h),L+1<h&&m.add(S+h*h),U>0&&m.add(S-h),U+1<h&&m.add(S+h),B>0&&m.add(S-1),B+1<h&&m.add(S+1)}}catch(r){o={error:r}}finally{try{b&&!b.done&&(a=x.return)&&a.call(x)}finally{if(o)throw o.error}}for(var A=[],k=0;k<e.length;k+=9){var z=e[k],R=e[k+1],D=e[k+2],N=e[k+3],T=e[k+4],W=e[k+5],j=e[k+6],q=e[k+7],F=e[k+8],L=Math.floor(((z+N+j)/3-_)/d),U=Math.floor(((R+T+q)/3-c)/d),B=Math.floor(((D+W+F)/3-y)/d);w.has(h*(h*L+U)+B)||A.push(z,R,D,N,T,W,j,q,F)}var C=Math.pow(5,2),I=new Float64Array(C),K=new Float64Array(C);try{for(var V=l(m),G=V.next();!G.done;G=V.next()){S=G.value;var H=Math.floor(S/h);v(r,[_+(L=Math.floor(H/h))*d,_+(L+1)*d,c+(U=H%h)*d,c+(U+1)*d,y+(B=S%h)*d,y+(B+1)*d],3,I,K,A)}}catch(r){i={error:r}}finally{try{G&&!G.done&&(f=V.return)&&f.call(V)}finally{if(i)throw i.error}}return A}}},__webpack_module_cache__={};function __webpack_require__(r){var e=__webpack_module_cache__[r];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[r]={exports:{}};return __webpack_modules__[r](n,n.exports,__webpack_require__),n.exports}__webpack_require__.d=(r,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(r,n)&&Object.defineProperty(r,n,{enumerable:!0,get:e[n]})},__webpack_require__.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var __webpack_exports__={};(()=>{var _polygonizer__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8081),__assign=function(){return(__assign=Object.assign||function(r){for(var e,n=1,t=arguments.length;n<t;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}).apply(this,arguments)},__values=function(r){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&r[e],t=0;if(n)return n.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&t>=r.length&&(r=void 0),{value:r&&r[t++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read=function(r,e){var n="function"==typeof Symbol&&r[Symbol.iterator];if(!n)return r;var t,o,a=n.call(r),i=[];try{for(;(void 0===e||e-- >0)&&!(t=a.next()).done;)i.push(t.value)}catch(r){o={error:r}}finally{try{t&&!t.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},__spreadArray=function(r,e){for(var n=0,t=e.length,o=r.length;n<t;n++,o++)r[o]=e[n];return r};function sendMessage(r){postMessage(r)}function toTransparentOutput(r,e,n,t){for(var o,a,i,l,u,f,s,_,v,c,y=r.length/9,p=[],h=0;h<y;h++){for(var d=[0,0,0],g=0;g<3;g++){var w=9*h+g,m=(r[w]+r[3+w]+r[6+w])/3,x=Math.floor(n*(m+t)/t/2);d[g]=x<0?0:x>=n?n-1:x}p.push(d)}var b=0,M=new Uint32Array(3*y*26),E={type:"transparent",positions:r,normals:e,resolution:n,indices:M,dirRanges:[]};try{for(var P=__values([-1,0,1]),O=P.next();!O.done;O=P.next()){var S=O.value;try{for(var A=(i=void 0,__values([-1,0,1])),k=A.next();!k.done;k=A.next()){var z=k.value;try{for(var R=(u=void 0,__values([-1,0,1])),D=R.next();!D.done;D=R.next()){var N=D.value;if(0!==S||0!==z||0!==N){var T=((S<0?1:0)+(z<0?1:0)+(N<0?1:0))*n,W=__spreadArray([],__read(new Array(3*n+1))).map((function(){return[]}));for(h=0;h<y;h++){var j=__read(p[h],3);W[I=T+j[0]*S+j[1]*z+j[2]*N].push(h)}var q=b;try{for(var F=(s=void 0,__values(W)),L=F.next();!L.done;L=F.next()){var U=L.value;try{for(var B=(v=void 0,__values(U)),C=B.next();!C.done;C=B.next()){var I=C.value;M[b]=3*I,M[b+1]=3*I+1,M[b+2]=3*I+2,b+=3}}catch(r){v={error:r}}finally{try{C&&!C.done&&(c=B.return)&&c.call(B)}finally{if(v)throw v.error}}}}catch(r){s={error:r}}finally{try{L&&!L.done&&(_=F.return)&&_.call(F)}finally{if(s)throw s.error}}var K=Math.hypot(S,z,N);E.dirRanges.push({x:S/K,y:z/K,z:N/K,start:q,count:3*y})}}}catch(r){u={error:r}}finally{try{D&&!D.done&&(f=R.return)&&f.call(R)}finally{if(u)throw u.error}}}}catch(r){i={error:r}}finally{try{k&&!k.done&&(l=A.return)&&l.call(A)}finally{if(i)throw i.error}}}}catch(r){o={error:r}}finally{try{O&&!O.done&&(a=P.return)&&a.call(P)}finally{if(o)throw o.error}}return E}function start(input,sendOutput){for(var frange=eval(input.frange),fvalue=eval(input.fvalue),radius=input.radius,ranges=[[-radius,radius,-radius,radius,-radius,radius]],res=1,preferredRanges=65536,maxPolygons=input.transparent?2e5:8e5,maxResolution=1024,area={xmin:-radius,ymin:-radius,zmin:-radius,size:2*radius},polygonizeEdge=!input.transparent,send=function(r,e,n){input.transparent?sendOutput(toTransparentOutput(r,e,n,radius)):sendOutput({type:"opaque",positions:r,normals:e,resolution:n})},numPolygonsWithoutEdge=1,N;;){ranges=(0,_polygonizer__WEBPACK_IMPORTED_MODULE_0__._)(frange,ranges),res*=2;var result=(0,_polygonizer__WEBPACK_IMPORTED_MODULE_0__.V)(fvalue,ranges,4,__assign(__assign({},area),{resolution:res}),polygonizeEdge);numPolygonsWithoutEdge=result[0];var positions_1=new Float32Array(result[1]),numPolygons_1=positions_1.length/9;if(numPolygons_1>1.5*maxPolygons)return;if(send(positions_1,generateNormals(positions_1),4*res),4*res>=maxResolution)return;if(4*numPolygonsWithoutEdge>maxPolygons||ranges.length>preferredRanges)break}if(ranges.length<preferredRanges&&numPolygonsWithoutEdge*Math.pow(1.5,2)<maxPolygons)ranges=(0,_polygonizer__WEBPACK_IMPORTED_MODULE_0__._)(frange,ranges),res*=2,N=3;else{if(!(numPolygonsWithoutEdge*Math.pow(5/4,2)<maxPolygons))return;N=5}var positions=new Float32Array((0,_polygonizer__WEBPACK_IMPORTED_MODULE_0__.V)(fvalue,ranges,N,__assign(__assign({},area),{resolution:res}),polygonizeEdge)[1]),numPolygons=positions.length/9;numPolygons>1.5*maxPolygons||send(positions,generateNormals(positions),res*N)}function generateNormals(r){for(var e=new Float32Array(r.length),n=0;n<r.length;n+=9){var t=r[n+3]-r[n],o=r[n+4]-r[n+1],a=r[n+5]-r[n+2],i=r[n+6]-r[n],l=r[n+7]-r[n+1],u=r[n+8]-r[n+2],f=o*u-l*a,s=a*i-u*t,_=t*l-i*o,v=Math.hypot(f,s,_);e[n]=e[n+3]=e[n+6]=f/v,e[n+1]=e[n+4]=e[n+7]=s/v,e[n+2]=e[n+5]=e[n+8]=_/v}return e}addEventListener("message",(function(r){var e=!1;try{start(r.data,(function(r){e=!0,sendMessage(r)}))}catch(r){console.error(r)}sendMessage(e?{type:"complete"}:{type:"error"})}))})()})();